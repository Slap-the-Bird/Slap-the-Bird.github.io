{"version":3,"sources":["classes/Physics/Physics.ts","classes/Data/Data.js","classes/AudioSystem/AudioSystem.ts","classes/EventSystem/EventSystem.ts","classes/Time/Time.ts","classes/Pos/Pos.ts","classes/Engine/Engine.tsx","classes/Input/Input.js","games/crappyBird/Bird.js","games/crappyBird/Pipes.js","games/crappyBird/Background.js","games/crappyBird/Hud.js","games/crappyBird/index.js"],"names":["Physics","jumpSpeed","gravity","velocity","this","collider","y","Engine","getTime","getTimeScale","a","b","x","width","height","ctx","React","createContext","Data","props","useState","context","setContext","useEffect","fixedUpdate","collision","i","tag","objA","document","getElementById","getBoundingClientRect","j","objB","AxisAlignedBoundingBox","isColliding","CustomEvent","detail","items","getEvent","dispatch","Provider","value","children","AudioSystem","fileName","channels","sounds","Array","index","push","Audio","play","item","pause","currentTime","EventSystem","event","dispatchEvent","id","lambda","addEventListener","removeEventListener","Time","timeScale","Pos","obj","hud","background","objects","audio","Map","time","debugId","object","requestAnimationFrame","cancelAnimationFrame","set","delete","get","stop","text","innerHTML","window","location","reload","ReactDOM","render","StrictMode","style","zIndex","position","top","map","color","fontSize","instance","getInstance","keyDownLock","clicked","listen","key","Input","jumpAudio","addAudio","collideAudio","Bird","rotation","element","useRef","wingEl","useContext","getContext","jump","setJump","collide","setCollide","wingUnlocked","setWingUnlocked","getPos","setCollider","physics","useMemo","getPhysics","playAudio","stopAudio","current","classList","add","handlePlayerInput","remove","applyJump","Promise","res","setTimeout","then","applyGravity","Math","atan2","getVelocity","PI","styleRoot","display","willChange","transform","jsx","ref","version","viewBox","xmlns","strokeWidth","stroke","cx","cy","rx","ry","fill","fillRule","d","Pipe","pos","score","strokeLinejoin","imageRendering","mixBlendMode","getRandomInt","min","max","ceil","floor","random","getStartPos","offset","PipeSet","spacing","numberOfPipes","speed","end","setEnd","setPos","posDown","Ground","className","Pipes","BackgroundImage","Background","fixedUpdateLoopId","setX","fixedUpdateLoop","change","cancelFixedUpdate","Hud","start","setStart","setScore","gameOver","setGameOver","lastScoreId","setLastScoreId","restart","setRestart","eventHandler","addObject","setBackground","setHud"],"mappings":"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","file":"static/js/main.4f22a26b.chunk.js","sourcesContent":["import Pos from \"../Pos/Pos\";\n\nimport Engine from '../Engine/Engine';\n\n\nexport default class Physics\n{\n  private gravity: number;\n  private jumpSpeed: number;\n  private velocity: number;\n  \n  constructor (jumpSpeed: number, gravity: number)\n  {\n    this.jumpSpeed = jumpSpeed;\n    this.gravity = gravity;\n    this.velocity = 0;\n  }\n\n  applyGravity(collider: Pos)\n  {\n    if (collider.y < 100)\n    {\n      this.velocity += this.gravity;\n      collider.y += (this.velocity) * Engine.getTime().getTimeScale();\n    }\n  }\n\n  applyJump(collider: Pos)\n  {\n    if (collider.y > -12)\n    {\n      this.velocity = this.jumpSpeed;\n      collider.y += (this.velocity) * Engine.getTime().getTimeScale();\n    }\n  }\n\n  getVelocity()\n  {\n    return this.velocity;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\n  static AxisAlignedBoundingBox(a: DOMRect, b: DOMRect)\n  {\n    if (a.x < b.x + b.width &&\n      a.x + a.width > b.x &&\n      a.y < b.y + b.height &&\n      a.y + a.height > b.y)\n    {\n      return true;\n    }\n\n    return false;\n  }\n}\n","import React from \"react\";\n\nimport Physics from '../Physics/Physics';\nimport Engine from '../Engine/Engine';\n\n\nconst ctx = React.createContext();\n\nexport function Data(props)\n{\n  const [context, setContext] = React.useState({});\n\n  React.useEffect(() => {\n    function collision()\n    {\n      for (const i in context)\n      {\n        if (context[i].tag !== 'player')\n        {\n          continue;\n        }\n\n        const objA = document.getElementById(i).getBoundingClientRect();\n\n        for (const j in context)\n        {\n          if (i === j || !context[j].tag in ['obstacle', 'score'])\n          {\n            continue;\n          }\n\n          const objB = document.getElementById(j).getBoundingClientRect();\n\n          if (Physics.AxisAlignedBoundingBox(objA, objB))\n          {\n            let isColliding = new CustomEvent('isColliding', {\n              detail: {\n                items: [{'id': i, 'tag': context[i].tag}, {'id': j, 'tag': context[j].tag}],\n              }\n            });\n\n            Engine.getEvent().dispatch(isColliding);\n          }\n        }\n      }\n\n      Engine.fixedUpdate(collision);\n    }\n\n    Engine.fixedUpdate(collision);\n  }, []);\n\n  return (\n    <ctx.Provider value={[context, setContext]}>\n      {props?.children}\n    </ctx.Provider>\n  );\n}\n\nexport default ctx;\n","export interface IAudio\n{\n  play(): void;\n  stop(): void;\n}\n\nexport default class AudioSystem implements IAudio\n{\n  private sounds = new Array<HTMLAudioElement>();\n  private channels: number;\n  private index = 0;\n\n  constructor(fileName: string, channels = 4) \n  {\n    this.channels = channels;\n\n    for (let i = 0; i < this.channels; i++)\n    {\n      this.sounds.push(new Audio(fileName));\n    }\n  }\n\n  play() \n  {\n    this.sounds[this.index].play();\n    this.index = (this.index + 1) % this.channels;\n  }\n\n  stop()\n  {\n    for (const item of this.sounds)\n    {\n      item.pause();\n      item.currentTime = 0;\n    }\n  }\n}\n","export interface IEvent\n{\n  dispatch(event: Event): boolean;\n  listen(id: string, lambda: () => void): void;\n  remove(id: string, lambda: () => void): void;\n}\n\nexport default class EventSystem implements IEvent\n{\n  dispatch(event: Event)\n  {\n    return document.dispatchEvent(event);\n  }\n\n  listen(id: string, lambda: () => void)\n  {\n    return document.addEventListener(id, lambda);\n  }\n\n  remove(id: string, lambda: () => void)\n  {\n    return document.removeEventListener(id, lambda);\n  }\n}\n","export interface ITime\n{\n  start: () => void;\n  stop: () => void;\n  setTimeScale: (timeScale: number) => void;\n  getTimeScale: () => number;\n}\n\nexport default class Time implements ITime\n{\n  private timeScale = 1;\n\n  start()\n  {\n    this.timeScale = 1;\n  }\n\n  stop()\n  {\n    this.timeScale = 0;\n  }\n  \n  setTimeScale(timeScale: number)\n  {\n    this.timeScale = timeScale;\n  }\n\n  getTimeScale()\n  {\n    return this.timeScale;\n  }\n}\n","export interface IPos\n{\n  x: number;\n  y: number;\n}\n\nexport default class Pos\n{\n  x: number;\n  y: number;\n\n  constructor();\n  constructor(obj: IPos);\n  constructor(obj?: any)\n  {\n    this.x = obj && obj.x || 0;\n    this.y = obj && obj.y || 0;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ctx, { Data } from '../Data/Data';\nimport AudioSystem, {IAudio} from '../AudioSystem/AudioSystem';\nimport EventSystem from '../EventSystem/EventSystem';\nimport Time from '../Time/Time';\nimport Input from '../Input/Input';\nimport Physics from '../Physics/Physics';\nimport Pos, { IPos } from '../Pos/Pos';\n\n\nclass Engine\n{\n  private hud: JSX.Element;\n  private background: JSX.Element;\n  private objects = new Array<JSX.Element>();\n\n  private audio = new Map<string, IAudio>();\n  private time = new Time();\n  private event = new EventSystem();\n\n  private debugId = 'slapIdDebug';\n\n  private static instance = new Engine();\n\n  private constructor() { }\n\n  public static getInstance(): Engine\n  {\n    return Engine.instance;\n  }\n\n  addObject(object: JSX.Element)\n  {\n    this.objects.push(object);\n  }\n\n  setBackground(background: JSX.Element)\n  {\n    this.background = background;\n  }\n\n  setHud(hud: JSX.Element)\n  {\n    this.hud = hud;\n  }\n\n  fixedUpdate(lambda: () => void)\n  {\n    return requestAnimationFrame(lambda);\n  }\n\n  cancelFixedUpdate(id: number)\n  {\n    cancelAnimationFrame(id);\n  }\n\n  addAudio(fileName: string)\n  {\n    this.audio.set(fileName, new AudioSystem(fileName));\n  }\n\n  removeAudio(fileName: string): boolean\n  {\n    return this.audio.delete(fileName);\n  }\n\n  playAudio(fileName: string)\n  {\n    if (this.time.getTimeScale() !== 0)\n    {\n      this.audio.get(fileName)?.play();\n    }\n  }\n\n  stopAudio(fileName: string)\n  {\n    this.audio.get(fileName)?.stop();\n  }\n\n  getEvent()\n  {\n    return this.event;\n  }\n\n  getTime()\n  {\n    return this.time;\n  }\n\n  getPos(): void;\n  getPos(obj: IPos): void;\n  getPos(obj?: any)\n  {\n    return new Pos(obj);\n  }\n\n  getPhysics(jumpSpeed: number, gravity: number)\n  {\n    return new Physics(jumpSpeed, gravity);\n  }\n\n  getContext()\n  {\n    return ctx;\n  }\n\n  debugWrite(text: string)\n  {\n    document.getElementById(this.debugId).innerHTML = text;\n  }\n\n  getDebugId()\n  {\n    return this.debugId;\n  }\n\n  stop()\n  {\n    this.time.stop();\n  }\n\n  restart()\n  {\n    window.location.reload();\n  }\n  \n  start()\n  {\n    ReactDOM.render(\n      <React.StrictMode>\n        <style>{`\n          *\n          {\n            box-sizing: border-box;\n          }\n\n          html\n          {\n            -ms-touch-action: manipulation;\n            touch-action: manipulation;\n          }\n          \n          body\n          {\n            margin: 0px;\n            max-height: 100vh;\n            max-width: 100vw;\n            overflow: hidden;\n\n            font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n              Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n            \n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n          }\n        `}</style>\n        <Data>\n          <div style={{zIndex: -10000, position: 'fixed', width: '100%', height: '100%', top: '0'}}>\n            {this.background}\n          </div>\n          {this.objects.map((item, i) => <span key={i} id={`slapId_${i}_0`}>{item}</span>)}\n          <div style={{zIndex: 10000, position: 'fixed', width: '100%', height: '100%', top: '0'}}>\n            <div\n              id={this.debugId}\n              style={{color: 'white', fontSize: '14pt', 'textShadow': 'rgb(51 51 51) 0vh 0.1vh'}}\n            />\n            {this.hud}\n          </div>\n        </Data>\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  }\n}\n\nexport default Engine.getInstance();\nInput();\n","import Engine from '../Engine/Engine';\n\n\nexport default function Input()\n{\n  let keyDownLock = false;\n\n  function clicked()\n  {\n    Engine.getEvent().dispatch(new CustomEvent('playerInput'));\n  }\n\n  Engine.getEvent().listen('pointerdown', () => clicked());\n  Engine.getEvent().listen('keydown', (event) => {\n    if (event.key !== ' ' || keyDownLock)\n    {\n      return;\n    }\n    \n    keyDownLock = true;\n\n    clicked();\n  });\n  Engine.getEvent().listen('keyup', (event) => {\n    if (event.key !== ' ')\n    {\n      return;\n    }\n    \n    keyDownLock = false;\n  });\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nconst jumpAudio = '/assets/audio/jump.wav';\nEngine.addAudio(jumpAudio);\n\nconst collideAudio = '/assets/audio/quack.wav';\nEngine.addAudio(collideAudio);\n\nexport default function Bird()\n{\n  const id = 'slapId_0_1';\n  const jumpSpeed = 1.25;\n  const gravity = jumpSpeed / 10;\n\n  const element = React.useRef(null);\n  const wingEl = React.useRef(null);\n  const [context, setContext] = React.useContext(Engine.getContext());\n  const [jump, setJump] = React.useState(false);\n  const [collide, setCollide] = React.useState(false);\n  const [wingUnlocked, setWingUnlocked] = React.useState(true);\n\n  const [collider, setCollider] = React.useState(\n    Engine.getPos({\n      x: 10,\n      y: 48,\n    })\n  );\n  \n  const physics = React.useMemo(() => {\n    return Engine.getPhysics(-(jumpSpeed), gravity);\n  }, []);\n\n  React.useEffect(() => {\n    Engine.getEvent().listen('isColliding', (event) => {\n      let items = event?.detail?.items;\n\n      if (items[0]?.tag == 'player' && items[1]?.tag == 'obstacle')\n      {\n        if(collide === false)\n        {\n          Engine.playAudio(collideAudio);\n          setCollide(true);\n        }\n        \n        Engine.stop();\n        Engine.stopAudio(jumpAudio);\n\n        element.current.classList.add('fall');\n      }\n    });\n\n    context[id] = {\n      'tag': 'player'\n    };\n    setContext({...context});\n  }, []);\n\n  React.useEffect(() => {\n    function handlePlayerInput()\n    {\n      setJump(true);\n      Engine.playAudio(jumpAudio);\n    }\n\n    Engine.getEvent().listen('playerInput', handlePlayerInput);\n\n    return () => Engine.getEvent().remove('playerInput', handlePlayerInput);\n  }, []);\n\n  React.useEffect(() => {\n    function move()\n    {\n      if (jump)\n      {\n        physics.applyJump(collider);\n        setJump(false);\n\n        if (wingUnlocked)\n        {\n          setWingUnlocked(false);\n\n          wingEl.current.classList.add('wingDown');\n          new Promise(res => setTimeout(res, 100))\n            .then(() => {\n              wingEl.current.classList.remove('wingDown');\n              new Promise(res => setTimeout(res, 100))\n                .then(() => {\n                  setWingUnlocked(true);\n                });\n            });\n        }\n      }\n      else\n      {\n        physics.applyGravity(collider);\n      }\n\n      setCollider(Engine.getPos({...collider}));\n    };\n\n    Engine.fixedUpdate(move);\n  }, [collider]);\n\n  let rotation;\n  if (Engine.getTime().getTimeScale() != 0 || collide)\n  {\n    rotation = (Math.atan2(physics.getVelocity(), jumpSpeed) * 180 / Math.PI);\n  }\n\n  const styleRoot = {\n    display: 'flex',\n    position: 'fixed',\n    willChange: 'transform',\n    transform: `translate3d(${collider.x}vh, ${collider.y}vh, 0)`,\n  };\n\n  return (\n    <>\n      <style jsx>{`\n        .wingDown\n        {\n          transform: translate3d(-0.6vh, -2.4vh, 0);\n        }\n\n        .fall\n        {\n          transform: translate3d(${collider.x}vw, 150vh, 0px) !important;\n          transition: transform 900ms linear;\n        }\n      `}</style>\n      <span ref={element} id={id} style={styleRoot}>\n        <svg style={{transform: `rotate(${rotation}deg)`}} height=\"4.25vh\" version=\"1.1\" viewBox=\"0 0 74.017 55.852\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g transform=\"translate(-62.95 -83.663)\">\n            <g strokeWidth=\"1.5875\">\n            <g stroke=\"#28220b\" strokeWidth=\"1.5875\">\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"98.366\" cy=\"116.63\" rx=\"31.759\" ry=\"17.625\" fill=\"#fc0\" fillRule=\"evenodd\"/>\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"95.883\" cy=\"134.04\" rx=\"8.6278\" ry=\"4.6856\" fill=\"#f60\"/>\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"117.06\" cy=\"97.553\" rx=\"16.571\" ry=\"13.096\" fill=\"#fc0\"/>\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"131.36\" cy=\"100.83\" rx=\"4.8109\" ry=\"3.2741\" fill=\"#f60\"/>\n            </g>\n            <ellipse transform=\"translate(-1.1875e-6)\" cx=\"119.67\" cy=\"95.883\" rx=\"3.1404\" ry=\"3.1404\" fill=\"#28220b\" strokeWidth=\"1.5875\"/>\n            <path transform=\"translate(-1.1875e-6)\" d=\"m69.832 110.85a10.758 4.744 0 0 1-6.0829-4.1265 10.758 4.744 0 0 1 5.4902-4.285 10.758 4.744 0 0 1 11.154 0.16847\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\"1.5875\"/>\n            <path ref={wingEl} style={{'willChange': 'transform', 'transition': 'transform 100ms linear'}} transform=\"matrix(1.2706 0 0 .70673 -26.92 30.601)\" d=\"m92.163 110.46c7.0526-0.57349 13.065-1.0384 18.959 3.5441 2.8957 2.2515-0.93968 8.5576-2.8468 11.41-3.8818 5.8064-7.4472 9.4699-14.606 11.69-3.5174 1.0909-5.0289-0.49088-7.0157-3.2841-4.0439-5.6852-3.3033-11.785-2.8827-19.267 0.20662-3.6764 4.9272-3.8118 8.3922-4.0935z\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\"1.6752\"/>\n            </g>\n          </g>\n        </svg>\n      </span>\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nfunction Pipe({id, pos, rotation, score})\n{\n  const [context, setContext] = React.useContext(Engine.getContext());\n\n  React.useEffect(() => {\n    context[id] = {\n      'tag': 'obstacle'\n    };\n\n    if (score)\n    {\n      context[`${id}_score`] = {\n        'tag': 'score'\n      };\n    }\n\n    setContext({...context});\n  }, []);\n\n  if (!rotation)\n  {\n    rotation = 0;\n  }\n\n  const styleRoot = {\n    position: `fixed`,\n    willChange: `transform`,\n    transform: `translate3d(${pos?.x}vh, ${pos?.y}vh, 0) rotate(${rotation}deg)`,\n  };\n\n  return (\n    <div style={styleRoot}>\n      <svg id={id} height=\"100vh\" version=\"1.1\" viewBox=\"0 0 70 514.19\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g transform=\"translate(-65 8.2278)\" fill=\"#999\" stroke=\"#000\" strokeLinejoin=\"round\">\n          <rect transform=\"scale(1,-1)\" x=\"70.798\" y=\"-505.16\" width=\"58.404\" height=\"478.4\" rx=\"0\" ry=\"0\" imageRendering=\"auto\" strokeWidth=\"1.5964\" style={{mixBlendMode: 'normal'}}/>\n          <rect transform=\"scale(1,-1)\" x=\"65.694\" y=\"-26.078\" width=\"68.612\" height=\"33.612\" ry=\"5.2732\" strokeWidth=\"1.3882\" style={{mixBlendMode: 'normal'}}/>\n        </g>\n      </svg>\n      {score &&\n      <span\n        id={`${id}_score`}\n        style={{\n          position: 'fixed',\n          willChange: 'transform',\n          transform: 'translate3d(0, -30vh, 0px)',\n          height: '40vh',\n          width: '0.1vh',\n        }}\n      />\n      }\n    </div>\n  );\n}\n\nfunction getRandomInt(min, max)\n{\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nfunction getStartPos(index, offset, min, max)\n{\n  return Engine.getPos({\n    x: ((offset * index) + offset),\n    y: getRandomInt(min, max),\n  });\n}\n\nfunction PipeSet({index, offset, spacing, numberOfPipes, min, max, speed})\n{\n  const [end, setEnd] = React.useState(false);\n  const [pos, setPos] = React.useState(getStartPos(index, offset + 3.5, min, max));\n\n  React.useEffect(() => {\n    if (end)\n    {\n      setPos(getStartPos(numberOfPipes - 1, offset, min, max));\n    }\n  }, [end]);\n\n  React.useEffect(() => {\n    function move()\n    {\n      if (pos.x > -12.7)\n      {\n        pos.x += (-speed) * Engine.getTime().getTimeScale();\n      }\n      else\n      {\n        setEnd(!end);\n      }\n\n      setPos(Engine.getPos({...pos}));\n    };\n\n    Engine.fixedUpdate(move);\n  }, [pos]);\n\n  let posDown = {...pos};\n  if (posDown?.y != null)\n  {\n    posDown.y -= spacing;\n  }\n\n  return (\n    <span>\n      <Pipe\n        id={`${index}_up`}\n        pos={pos}\n        score={true}\n      />\n      <Pipe\n        id={`${index}_down`}\n        pos={posDown}\n        rotation={180}\n      />\n    </span>\n  );\n}\n\nfunction Ground({id})\n{\n  const [context, setContext] = React.useContext(Engine.getContext());\n\n  React.useEffect(() => {\n    context[id] = {\n      'tag': 'obstacle'\n    };\n    setContext({...context});\n  }, []);\n\n  return(\n    <>\n      <style jsx>{`\n        // .groundImageContainer\n        // {\n        //   height: 100%;\n        //   width: ${2*200}vh;\n        //   background: #f4d7d7;\n        //   transform: translate3d(0vh, 79.66vh, -1px);\n        // }\n\n        // .groundImage\n        // {\n        //   height: 100%;\n        //   width: 200vh;\n        //   will-change: transform;\n        // }\n\n        .groundImageContainer\n        {\n          height: 1vh;\n          width: 100vh;\n          transform: translate3d(0vh, 100vh, -1px);\n        }\n      `}</style>\n      <div id={id} className=\"groundImageContainer\" />\n    </>\n  );\n}\n\nexport default function Pipes()\n{\n  const offset = 45;\n  const spacing = 122;\n  const numberOfPipes = 6;\n  const min = 29;\n  const max = 92;\n  const speed = 0.34;\n\n  let items = [];\n  for (let i = 0; i < numberOfPipes; i++)\n  {\n    items.push(\n      <PipeSet\n        key={i}\n        index={i}\n        offset={offset}\n        spacing={spacing}\n        numberOfPipes={numberOfPipes}\n        min={min}\n        max={max}\n        speed={speed}\n      />\n    );\n  }\n\n  const styleRoot = {\n\n  };\n\n  return (\n    <>\n      <span style={styleRoot}>\n        {items}\n      </span>\n      <Ground id={'slapId_background_0'} />\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nfunction BackgroundImage({style, className})\n{\n  return (\n    <>\n      <svg className={className} style={style} width=\"1e3\" height=\"300\" version=\"1.1\" viewBox=\"0 0 264.58 79.375\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g transform=\"translate(0 -33.928)\">\n          <rect x=\"-1.1102e-16\" y=\"33.928\" width=\"264.58\" height=\"79.375\" fill=\"#ffb380\" fillRule=\"evenodd\"/>\n          <g transform=\"matrix(.8446 0 0 .88327 23.452 3.3686)\">\n          <g fillRule=\"evenodd\" stroke=\"#24221c\" strokeLinejoin=\"round\" strokeWidth=\".565\">\n            <rect x=\"90.872\" y=\"43.817\" width=\"40.625\" height=\"46.505\" fill=\"#afe9dd\"/>\n            <rect x=\"90.872\" y=\"43.817\" width=\"12.428\" height=\"34.344\" fill=\"#5fd35f\"/>\n            <rect x=\"119.87\" y=\"43.817\" width=\"11.626\" height=\"34.077\" fill=\"#5fd35f\"/>\n          </g>\n          <path d=\"m112.39 90.055-0.13364-46.238\" fill=\"none\" stroke=\"#000\" strokeWidth=\".565\"/>\n          <path d=\"m103.43 66.268 16.303-0.13364\" fill=\"none\" stroke=\"#000\" strokeWidth=\".565\"/>\n          </g>\n          <rect x=\"159.56\" y=\"69.538\" width=\"86.061\" height=\"2.5941\" fill=\"#c87137\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\" strokeWidth=\".53072\"/>\n          <g transform=\"matrix(.90046 0 0 .884 16.985 3.8828)\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\" strokeWidth=\".565\">\n          <rect x=\"170.79\" y=\"61.59\" width=\"7.2163\" height=\"12.428\" fill=\"#ff8080\"/>\n          <rect x=\"173.16\" y=\"57.835\" width=\"2.7403\" height=\"3.7325\" fill=\"#de8787\"/>\n          </g>\n          <g transform=\"matrix(1 0 0 .88235 0 3.9915)\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\" strokeWidth=\".565\">\n          <rect x=\"187.69\" y=\"70.21\" width=\"12.428\" height=\"3.8754\" fill=\"#f60\"/>\n          <rect x=\"189.56\" y=\"68.74\" width=\"9.0203\" height=\"1.47\" fill=\"#a40\"/>\n          </g>\n          <g transform=\"matrix(.84238 0 0 .88235 37.242 3.9915)\">\n          <g stroke=\"#28220b\">\n            <ellipse transform=\"scale(-1,1)\" cx=\"-240.12\" cy=\"71.84\" rx=\"3.2327\" ry=\"1.7402\" fill=\"#fc0\" fillRule=\"evenodd\" strokeWidth=\".225\"/>\n            <ellipse transform=\"scale(-1,1)\" cx=\"-240.38\" cy=\"73.558\" rx=\".87823\" ry=\".46263\" fill=\"#f60\" strokeWidth=\".225\"/>\n            <ellipse transform=\"scale(-1,1)\" cx=\"-238.22\" cy=\"69.956\" rx=\"1.6867\" ry=\"1.293\" fill=\"#fc0\" strokeWidth=\".227\"/>\n            <ellipse transform=\"scale(-1,1)\" cx=\"-236.76\" cy=\"70.279\" rx=\".4897\" ry=\".32326\" fill=\"#f60\" strokeWidth=\".227\"/>\n          </g>\n          <ellipse transform=\"scale(-1,1)\" cx=\"-237.95\" cy=\"69.791\" rx=\".31967\" ry=\".31006\" fill=\"#28220b\" strokeWidth=\".026525\"/>\n          <path transform=\"scale(-1,1)\" d=\"m-243.03 71.269a1.095 0.4684 0 0 1-0.61918-0.40742 1.095 0.4684 0 0 1 0.55885-0.42308 1.095 0.4684 0 0 1 1.1354 0.01663\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\".227\"/>\n          <path transform=\"matrix(-.12934 0 0 .069778 252.88 63.346)\" d=\"m92.163 110.46c7.0526-0.57349 13.065-1.0384 18.959 3.5441 2.8957 2.2515-0.93968 8.5576-2.8468 11.41-3.8818 5.8064-7.4472 9.4699-14.606 11.69-3.5174 1.0909-5.0289-0.49088-7.0157-3.2841-4.0439-5.6852-3.3033-11.785-2.8827-19.267 0.20662-3.6764 4.9272-3.8118 8.3922-4.0935z\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\"2.3684\"/>\n          </g>\n          <g transform=\"matrix(.83281 0 0 .88235 36.172 3.9915)\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\">\n          <ellipse cx=\"223.64\" cy=\"70.577\" rx=\"7.2831\" ry=\"3.5079\" fill=\"#ff2a2a\" strokeWidth=\".565\"/>\n          <rect x=\"222.49\" y=\"64.096\" width=\"2.2551\" height=\"2.9901\" fill=\"#ff8080\" strokeWidth=\".565\"/>\n          </g>\n          <g transform=\"matrix(1 0 0 .88235 0 3.9915)\" fillRule=\"evenodd\" strokeLinejoin=\"round\">\n          <g fill=\"#e6e6e6\" stroke=\"#28170b\" strokeWidth=\".565\">\n            <rect x=\"174.26\" y=\"105.16\" width=\"76.573\" height=\"16.972\"/>\n            <rect x=\"176.77\" y=\"122.16\" width=\"2.1686\" height=\"1.4375\"/>\n            <rect x=\"247.31\" y=\"122.16\" width=\"2.2974\" height=\"1.4366\"/>\n            <rect x=\"172.43\" y=\"106.24\" width=\"1.7718\" height=\"1.0631\"/>\n          </g>\n          <rect x=\"169.5\" y=\"105.18\" width=\"2.9057\" height=\"2.9529\" fill=\"#b3b3b3\" stroke=\"#28170b\" strokeWidth=\".565\"/>\n          <g fill=\"#a05a2c\" stroke=\"#28220b\">\n            <rect x=\"15.502\" y=\"90.99\" width=\"58.131\" height=\"1.7373\" strokeWidth=\".427\"/>\n            <rect x=\"20.502\" y=\"92.728\" width=\"1.1326\" height=\"30.934\" strokeWidth=\".4283\"/>\n            <rect x=\"67.5\" y=\"92.728\" width=\"1.1327\" height=\"30.928\" strokeWidth=\".42827\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.88588 0 0 .88349 14.148 5.2351)\" fillRule=\"evenodd\" strokeLinejoin=\"round\">\n          <rect x=\"20.847\" y=\"44.619\" width=\"25.925\" height=\"27.261\" fill=\"#cdde87\" stroke=\"#a05a2c\" strokeWidth=\".565\"/>\n          <ellipse cx=\"33.409\" cy=\"57.715\" rx=\"6.6817\" ry=\"8.2854\" fill=\"#fc0\" stroke=\"#2b2200\" strokeWidth=\".565\"/>\n          <g>\n            <ellipse transform=\"rotate(2.2223)\" cx=\"33.213\" cy=\"54.664\" rx=\"1.2762\" ry=\"1.2628\" strokeWidth=\".427\"/>\n            <ellipse transform=\"rotate(2.2223)\" cx=\"38.226\" cy=\"54.47\" rx=\"1.2762\" ry=\"1.2628\" strokeWidth=\".427\"/>\n            <ellipse transform=\"matrix(.98914 .14695 .14695 -.98914 0 0)\" cx=\"41.912\" cy=\"-53.415\" rx=\"2.4961\" ry=\"1.211\" strokeWidth=\".636\"/>\n          </g>\n          <ellipse transform=\"matrix(.99281 -.11966 -.11966 -.99281 0 0)\" cx=\"26.86\" cy=\"-62.207\" rx=\"4.3111\" ry=\"1.211\" fill=\"#fc0\" strokeWidth=\".83584\"/>\n          <ellipse transform=\"matrix(.99923 .039128 -.038427 .99926 0 0)\" cx=\"33.205\" cy=\"54.64\" rx=\"1.1359\" ry=\"1.1342\" fill=\"#fff\" strokeWidth=\".38178\"/>\n          <ellipse transform=\"matrix(.99923 .039128 -.038427 .99926 0 0)\" cx=\"38.207\" cy=\"54.456\" rx=\"1.1359\" ry=\"1.1342\" fill=\"#fff\" strokeWidth=\".38178\"/>\n          <ellipse transform=\"matrix(.99954 .03025 -.049695 .99876 0 0)\" cx=\"33.801\" cy=\"54.909\" rx=\".21209\" ry=\".1638\" strokeWidth=\".06269\"/>\n          <ellipse transform=\"matrix(.99954 .03025 -.049695 .99876 0 0)\" cx=\"38.949\" cy=\"54.695\" rx=\".21209\" ry=\".1638\" strokeWidth=\".06269\"/>\n          </g>\n        </g>\n      </svg>\n    </>\n  );\n}\n\nexport default function Background()\n{\n  const [x, setX] = React.useState(0);\n  let offset = 0;\n  const speed = 0.1;\n  let fixedUpdateLoopId;\n\n  React.useEffect(() => {\n    function fixedUpdateLoop()\n    {\n      let change = (x - (speed * Engine.getTime().getTimeScale()));\n\n      if (x < -294)\n      {\n        offset = offset - 294;\n        change = 0;\n      }\n\n      setX(change);\n\n      fixedUpdateLoopId = Engine.fixedUpdate(fixedUpdateLoop);\n    }\n\n    fixedUpdateLoopId = Engine.fixedUpdate(fixedUpdateLoop);\n\n    return () => Engine.cancelFixedUpdate(fixedUpdateLoopId);\n  }, [x]);\n\n  return (\n    <>\n      <style jsx>{`\n        .backgroundImageContainer\n        {\n          height: 100%;\n          width: ${2*294}vh;\n          background: #ffb380;\n          filter: blur(0.15vh);\n        }\n\n        .backgroundImage\n        {\n          height: 100%;\n          width: 294vh;\n          will-change: transform;\n        }\n      `}</style>\n      <div className=\"backgroundImageContainer\">\n        <BackgroundImage className=\"backgroundImage\" style={{transform: `translate3d(${offset + x}vh, 0, -2px)`}} />\n        <BackgroundImage className=\"backgroundImage\" style={{transform: `translate3d(${offset + x+(speed*2)}vh, 0, -3px)`}} />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nexport default function Hud()\n{\n  const [start, setStart] = React.useState(false);\n  const [score, setScore] = React.useState(0);\n  const [gameOver, setGameOver] = React.useState(false);\n  const [lastScoreId, setLastScoreId] = React.useState('');\n  const [restart, setRestart] = React.useState(false);\n\n  React.useEffect(() => {\n    function handlePlayerInput()\n    {\n      if (!start)\n      {\n        setStart(true);\n      }\n      else if (start && restart)\n      {\n        Engine.restart();\n      }\n    }\n\n    Engine.getEvent().listen('playerInput', handlePlayerInput);\n\n    return () => Engine.getEvent().remove('playerInput', handlePlayerInput);\n  }, [start, restart]);\n\n  React.useEffect(() => {\n    function eventHandler(event)\n    {\n      let items = event?.detail?.items;\n\n      if (items[0]?.tag == 'player' && items[1]?.tag == 'score')\n      {\n        if (items[1]?.id != lastScoreId)\n        {\n          setScore(score => ++score);\n          setLastScoreId(items[1]?.id);\n        }\n      }\n\n      if (items[0]?.tag == 'player' && items[1]?.tag == 'obstacle')\n      {\n        setGameOver(true);\n        setRestart(true);\n      }\n    }\n\n    Engine.getEvent().listen('isColliding', eventHandler);\n\n    return () => Engine.getEvent().remove('isColliding', eventHandler);\n  }, [lastScoreId]);\n\n  React.useEffect(() => {\n    if (start)\n    {\n      Engine.getTime().start();\n    }\n    else\n    {\n      Engine.getTime().stop();\n    }\n  }, [start]);\n\n  return (\n    <>\n      <div style={{'width': '100vw', 'height': '100vh'}}>\n        <div\n          style={{\n            'color': '#FFF',\n            'fontSize': '4vh',\n            'textShadow': '0vh 0.4vh #333',\n            'fontWeight': '600',\n            'textAlign': 'center',\n            'marginTop': '8.5vh',\n          }}\n        >\n          <h2>{score}</h2>\n          <h1 style={{'marginTop': '28vh', 'height': '9.5vh'}}>{gameOver && 'Game Over'}</h1>\n          {(!start || gameOver) &&\n          <span>\n            <span>\n              <svg style={{'transform': 'rotate(90deg)', 'marginTop': '18vh'}} height=\"4.25vh\" version=\"1.1\" viewBox=\"0 0 5.8304 5.6861\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g transform=\"translate(-81.253 -98.706)\">\n                  <path d=\"m84.593 103.95-0.28127 0.28128c-0.11909 0.11907-0.31168 0.11907-0.42952 0l-2.463-2.4618c-0.11909-0.11905-0.11909-0.31171 0-0.42949l2.463-2.4631c0.1191-0.11909 0.31168-0.11909 0.42952 0l0.28127 0.28127c0.12036 0.12037 0.11784 0.31675-0.0051 0.43458l-1.5267 1.4545h3.6413c0.16851 0 0.30408 0.13551 0.30408 0.30408v0.40545c0 0.16852-0.13557 0.30408-0.30408 0.30408h-3.6413l1.5267 1.4545c0.12417 0.11779 0.12669 0.3142 0.0051 0.43456z\" fill=\"#fff\" stroke=\"#000\" strokeWidth=\".15415\"/>\n                </g>\n              </svg>\n            </span>\n            <h4 style={{'marginTop': '0px'}}>{gameOver ? 'Touch to Restart' : 'Touch to Start'}</h4>\n          </span>\n          }\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\nimport Bird from './Bird';\nimport Pipes from './Pipes';\nimport Background from './Background';\nimport Hud from './Hud';\n\n\nEngine.addObject(<Bird />);\nEngine.addObject(<Pipes />);\nEngine.setBackground(<Background />);\nEngine.setHud(<Hud />);\n\nEngine.start();\n"],"sourceRoot":""}