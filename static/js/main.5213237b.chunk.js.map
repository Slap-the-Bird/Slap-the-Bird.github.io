{"version":3,"sources":["classes/Physics/Physics.ts","classes/Data/Data.js","classes/AudioSystem/AudioSystem.ts","classes/EventSystem/EventSystem.ts","classes/Time/Time.ts","classes/Pos/Pos.ts","classes/Engine/Engine.tsx","classes/Input/Input.js","games/crappyBird/Bird.js","games/crappyBird/Pipes.js","games/crappyBird/Background.js","games/crappyBird/Hud.js","games/crappyBird/index.js"],"names":["Physics","jumpSpeed","gravity","velocity","this","collider","y","Engine","getTime","getTimeScale","a","b","x","width","height","ctx","React","createContext","Data","props","useState","context","setContext","useEffect","fixedUpdate","collision","i","tag","objA","document","getElementById","getBoundingClientRect","j","objB","AxisAlignedBoundingBox","isColliding","CustomEvent","detail","items","getEvent","dispatch","Provider","value","children","AudioSystem","fileName","channels","sounds","Array","index","push","Audio","play","item","pause","currentTime","EventSystem","event","dispatchEvent","id","lambda","addEventListener","removeEventListener","Time","timeScale","Pos","obj","hud","background","objects","audio","Map","time","debugId","object","requestAnimationFrame","cancelAnimationFrame","set","delete","get","stop","text","innerHTML","window","location","reload","ReactDOM","render","StrictMode","style","zIndex","position","top","map","color","fontSize","instance","getInstance","disableEvent","preventDefault","onpointerdown","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","ontouchend","ontouchmove","ontouchcancel","ontouchstart","onpointerover","onpointerenter","onpointermove","onpointerup","onpointercancel","onpointerout","onpointerleave","ongotpointercapture","onlostpointercapture","Input","counter","jumpAudio","addAudio","collideAudio","Bird","debug","rotation","element","useRef","wingEl","useContext","getContext","jump","setJump","collide","setCollide","wingUnlocked","setWingUnlocked","getPos","setCollider","physics","useMemo","getPhysics","listen","playAudio","stopAudio","current","classList","add","handlePlayerInput","debugWrite","remove","applyJump","Promise","res","setTimeout","then","applyGravity","Math","atan2","getVelocity","PI","styleRoot","display","willChange","transform","jsx","ref","version","viewBox","xmlns","strokeWidth","stroke","cx","cy","rx","ry","fill","fillRule","d","Pipe","pos","score","strokeLinejoin","imageRendering","mixBlendMode","getRandomInt","min","max","ceil","floor","random","getStartPos","offset","PipeSet","spacing","numberOfPipes","speed","end","setEnd","setPos","posDown","Ground","className","Pipes","BackgroundImage","Background","fixedUpdateLoopId","setX","fixedUpdateLoop","change","cancelFixedUpdate","Hud","start","setStart","setScore","gameOver","setGameOver","lastScoreId","setLastScoreId","restart","setRestart","eventHandler","addObject","setBackground","setHud"],"mappings":"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","file":"static/js/main.5213237b.chunk.js","sourcesContent":["import Pos from \"../Pos/Pos\";\n\nimport Engine from '../Engine/Engine';\n\n\nexport default class Physics\n{\n  private gravity: number;\n  private jumpSpeed: number;\n  private velocity: number;\n  \n  constructor (jumpSpeed: number, gravity: number)\n  {\n    this.jumpSpeed = jumpSpeed;\n    this.gravity = gravity;\n    this.velocity = 0;\n  }\n\n  applyGravity(collider: Pos)\n  {\n    if (collider.y < 100)\n    {\n      this.velocity += this.gravity;\n      collider.y += (this.velocity) * Engine.getTime().getTimeScale();\n    }\n  }\n\n  applyJump(collider: Pos)\n  {\n    if (collider.y > -12)\n    {\n      this.velocity = this.jumpSpeed;\n      collider.y += (this.velocity) * Engine.getTime().getTimeScale();\n    }\n  }\n\n  getVelocity()\n  {\n    return this.velocity;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\n  static AxisAlignedBoundingBox(a: DOMRect, b: DOMRect)\n  {\n    if (a.x < b.x + b.width &&\n      a.x + a.width > b.x &&\n      a.y < b.y + b.height &&\n      a.y + a.height > b.y)\n    {\n      return true;\n    }\n\n    return false;\n  }\n}\n","import React from \"react\";\n\nimport Physics from '../Physics/Physics';\nimport Engine from '../Engine/Engine';\n\n\nconst ctx = React.createContext();\n\nexport function Data(props)\n{\n  const [context, setContext] = React.useState({});\n\n  React.useEffect(() => {\n    function collision()\n    {\n      for (const i in context)\n      {\n        if (context[i].tag !== 'player')\n        {\n          continue;\n        }\n\n        const objA = document.getElementById(i).getBoundingClientRect();\n\n        for (const j in context)\n        {\n          if (i === j || !context[j].tag in ['obstacle', 'score'])\n          {\n            continue;\n          }\n\n          const objB = document.getElementById(j).getBoundingClientRect();\n\n          if (Physics.AxisAlignedBoundingBox(objA, objB))\n          {\n            let isColliding = new CustomEvent('isColliding', {\n              detail: {\n                items: [{'id': i, 'tag': context[i].tag}, {'id': j, 'tag': context[j].tag}],\n              }\n            });\n\n            Engine.getEvent().dispatch(isColliding);\n          }\n        }\n      }\n\n      Engine.fixedUpdate(collision);\n    }\n\n    Engine.fixedUpdate(collision);\n  }, []);\n\n  return (\n    <ctx.Provider value={[context, setContext]}>\n      {props?.children}\n    </ctx.Provider>\n  );\n}\n\nexport default ctx;\n","export interface IAudio\n{\n  play(): void;\n  stop(): void;\n}\n\nexport default class AudioSystem implements IAudio\n{\n  private sounds = new Array<HTMLAudioElement>();\n  private channels: number;\n  private index = 0;\n\n  constructor(fileName: string, channels = 4) \n  {\n    this.channels = channels;\n\n    for (let i = 0; i < this.channels; i++)\n    {\n      this.sounds.push(new Audio(fileName));\n    }\n  }\n\n  play() \n  {\n    this.sounds[this.index].play();\n    this.index = (this.index + 1) % this.channels;\n  }\n\n  stop()\n  {\n    for (const item of this.sounds)\n    {\n      item.pause();\n      item.currentTime = 0;\n    }\n  }\n}\n","export interface IEvent\n{\n  dispatch(event: Event): boolean;\n  listen(id: string, lambda: () => void): void;\n  remove(id: string, lambda: () => void): void;\n}\n\nexport default class EventSystem implements IEvent\n{\n  dispatch(event: Event)\n  {\n    return document.dispatchEvent(event);\n  }\n\n  listen(id: string, lambda: () => void)\n  {\n    return document.addEventListener(id, lambda);\n  }\n\n  remove(id: string, lambda: () => void)\n  {\n    return document.removeEventListener(id, lambda);\n  }\n}\n","export interface ITime\n{\n  start: () => void;\n  stop: () => void;\n  setTimeScale: (timeScale: number) => void;\n  getTimeScale: () => number;\n}\n\nexport default class Time implements ITime\n{\n  private timeScale = 1;\n\n  start()\n  {\n    this.timeScale = 1;\n  }\n\n  stop()\n  {\n    this.timeScale = 0;\n  }\n  \n  setTimeScale(timeScale: number)\n  {\n    this.timeScale = timeScale;\n  }\n\n  getTimeScale()\n  {\n    return this.timeScale;\n  }\n}\n","export interface IPos\n{\n  x: number;\n  y: number;\n}\n\nexport default class Pos\n{\n  x: number;\n  y: number;\n\n  constructor();\n  constructor(obj: IPos);\n  constructor(obj?: any)\n  {\n    this.x = obj && obj.x || 0;\n    this.y = obj && obj.y || 0;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ctx, { Data } from '../Data/Data';\nimport AudioSystem, {IAudio} from '../AudioSystem/AudioSystem';\nimport EventSystem from '../EventSystem/EventSystem';\nimport Time from '../Time/Time';\nimport Input from '../Input/Input';\nimport Physics from '../Physics/Physics';\nimport Pos, { IPos } from '../Pos/Pos';\n\n\nclass Engine\n{\n  private hud: JSX.Element;\n  private background: JSX.Element;\n  private objects = new Array<JSX.Element>();\n\n  private audio = new Map<string, IAudio>();\n  private time = new Time();\n  private event = new EventSystem();\n\n  private debugId = 'slapIdDebug';\n\n  private static instance = new Engine();\n\n  private constructor() { }\n\n  public static getInstance(): Engine\n  {\n    return Engine.instance;\n  }\n\n  addObject(object: JSX.Element)\n  {\n    this.objects.push(object);\n  }\n\n  setBackground(background: JSX.Element)\n  {\n    this.background = background;\n  }\n\n  setHud(hud: JSX.Element)\n  {\n    this.hud = hud;\n  }\n\n  fixedUpdate(lambda: () => void)\n  {\n    return requestAnimationFrame(lambda);\n  }\n\n  cancelFixedUpdate(id: number)\n  {\n    cancelAnimationFrame(id);\n  }\n\n  addAudio(fileName: string)\n  {\n    this.audio.set(fileName, new AudioSystem(fileName));\n  }\n\n  removeAudio(fileName: string): boolean\n  {\n    return this.audio.delete(fileName);\n  }\n\n  playAudio(fileName: string)\n  {\n    if (this.time.getTimeScale() !== 0)\n    {\n      this.audio.get(fileName)?.play();\n    }\n  }\n\n  stopAudio(fileName: string)\n  {\n    this.audio.get(fileName)?.stop();\n  }\n\n  getEvent()\n  {\n    return this.event;\n  }\n\n  getTime()\n  {\n    return this.time;\n  }\n\n  getPos(): void;\n  getPos(obj: IPos): void;\n  getPos(obj?: any)\n  {\n    return new Pos(obj);\n  }\n\n  getPhysics(jumpSpeed: number, gravity: number)\n  {\n    return new Physics(jumpSpeed, gravity);\n  }\n\n  getContext()\n  {\n    return ctx;\n  }\n\n  debugWrite(text: string)\n  {\n    document.getElementById(this.debugId).innerHTML = text;\n  }\n\n  stop()\n  {\n    this.time.stop();\n  }\n\n  restart()\n  {\n    window.location.reload();\n  }\n  \n  start()\n  {\n    ReactDOM.render(\n      <React.StrictMode>\n        <style>{`\n          *\n          {\n            box-sizing: border-box;\n          }\n\n          html\n          {\n            -ms-touch-action: manipulation;\n            touch-action: manipulation;\n          }\n          \n          body\n          {\n            margin: 0px;\n            max-height: 100vh;\n            max-width: 100vw;\n            overflow: hidden;\n\n            font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n              Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n            \n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n          }\n        `}</style>\n        <Data>\n          <div style={{zIndex: -10000, position: 'fixed', width: '100%', height: '100%', top: '0'}}>\n            {this.background}\n          </div>\n          {this.objects.map((item, i) => <span key={i} id={`slapId_${i}_0`}>{item}</span>)}\n          <div style={{zIndex: 10000, position: 'fixed', width: '100%', height: '100%', top: '0'}}>\n            <div\n              id={this.debugId}\n              style={{color: 'white', fontSize: '14pt', 'textShadow': 'rgb(51 51 51) 0vh 0.1vh'}}\n            />\n            {this.hud}\n          </div>\n        </Data>\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  }\n}\n\nexport default Engine.getInstance();\nInput();\n","import Engine from '../Engine/Engine';\n\n\nexport default function Input()\n{\n  let keyDownLock = false;\n\n  function clicked()\n  {\n    Engine.getEvent().dispatch(new CustomEvent('playerInput'));\n  }\n\n  document.onpointerdown = () => clicked();\n\n  // Engine.getEvent().listen(\"mousedown\", () => clicked());\n  // Engine.getEvent().listen(\"touchstart\", () => clicked());\n  // Engine.getEvent().listen(\n  //   \"keydown\",\n  //   (event) => {\n  //     if (event.key !== ' ' || keyDownLock)\n  //     {\n  //       return;\n  //     }\n      \n  //     keyDownLock = true;\n\n  //     clicked();\n  //   }\n  // );\n  // Engine.getEvent().listen(\n  //   \"keyup\",\n  //   (event) => {\n  //     if (event.key !== ' ')\n  //     {\n  //       return;\n  //     }\n      \n  //     keyDownLock = false;\n  //   }\n  // );\n\n  function disableEvent(event)\n  {\n    event.preventDefault();\n  }\n\n  document.onmousedown = (event) => disableEvent(event);\n  document.onmouseenter = (event) => disableEvent(event);\n  document.onmouseleave = (event) => disableEvent(event);\n  document.onmousemove = (event) => disableEvent(event);\n  document.onmouseout = (event) => disableEvent(event);\n  document.onmouseover = (event) => disableEvent(event);\n  document.onmouseup = (event) => disableEvent(event);\n\n  document.ontouchend = (event) => disableEvent(event);\n  document.ontouchmove = (event) => disableEvent(event);\n  document.ontouchcancel = (event) => disableEvent(event);\n  document.ontouchstart = (event) => disableEvent(event);\n\n  document.onpointerover = (event) => disableEvent(event);\n  document.onpointerenter = (event) => disableEvent(event);\n  document.onpointermove = (event) => disableEvent(event);\n  document.onpointerup = (event) => disableEvent(event);\n  document.onpointercancel = (event) => disableEvent(event);\n  // document.onpointerdown = (event) => disableEvent(event);\n  document.onpointerout = (event) => disableEvent(event);\n  document.onpointerleave = (event) => disableEvent(event);\n  document.ongotpointercapture = (event) => disableEvent(event);\n  document.onlostpointercapture = (event) => disableEvent(event);\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nlet counter = 0;\n\nconst jumpAudio = '/assets/audio/jump.wav';\nEngine.addAudio(jumpAudio);\n\nconst collideAudio = '/assets/audio/quack.wav';\nEngine.addAudio(collideAudio);\n\nexport default function Bird({debug})\n{\n  const id = 'slapId_0_1';\n  const jumpSpeed = 1.25;\n  const gravity = jumpSpeed / 10;\n\n  const element = React.useRef(null);\n  const wingEl = React.useRef(null);\n  const [context, setContext] = React.useContext(Engine.getContext());\n  const [jump, setJump] = React.useState(false);\n  const [collide, setCollide] = React.useState(false);\n  const [wingUnlocked, setWingUnlocked] = React.useState(true);\n\n  const [collider, setCollider] = React.useState(\n    Engine.getPos({\n      x: 10,\n      y: 48,\n    })\n  );\n  \n  const physics = React.useMemo(() => {\n    return Engine.getPhysics(-(jumpSpeed), gravity);\n  }, []);\n\n  React.useEffect(() => {\n    Engine.getEvent().listen('isColliding', (event) => {\n      let items = event?.detail?.items;\n\n      if (items[0]?.tag == 'player' && items[1]?.tag == 'obstacle')\n      {\n        if(collide === false)\n        {\n          Engine.playAudio(collideAudio);\n          setCollide(true);\n        }\n        \n        Engine.stop();\n        Engine.stopAudio(jumpAudio);\n\n        element.current.classList.add('fall');\n      }\n    });\n\n    context[id] = {\n      'tag': 'player'\n    };\n    setContext({...context});\n  }, []);\n\n  React.useEffect(() => {\n    function handlePlayerInput()\n    {\n      Engine.debugWrite(`${++counter}`);\n      setJump(true);\n      Engine.playAudio(jumpAudio);\n    }\n\n    Engine.getEvent().listen('playerInput', handlePlayerInput);\n\n    return () => Engine.getEvent().remove('playerInput', handlePlayerInput);\n  }, []);\n\n  React.useEffect(() => {\n    function move()\n    {\n      if (jump)\n      {\n        physics.applyJump(collider);\n        setJump(false);\n\n        if (wingUnlocked)\n        {\n          setWingUnlocked(false);\n\n          wingEl.current.classList.add('wingDown');\n          new Promise(res => setTimeout(res, 100))\n            .then(() => {\n              wingEl.current.classList.remove('wingDown');\n              new Promise(res => setTimeout(res, 100))\n                .then(() => {\n                  setWingUnlocked(true);\n                });\n            });\n        }\n      }\n      else\n      {\n        physics.applyGravity(collider);\n      }\n\n      setCollider(Engine.getPos({...collider}));\n    };\n\n    Engine.fixedUpdate(move);\n  }, [collider]);\n\n  let rotation;\n  if (Engine.getTime().getTimeScale() != 0 || collide)\n  {\n    rotation = (Math.atan2(physics.getVelocity(), jumpSpeed) * 180 / Math.PI);\n  }\n\n  const styleRoot = {\n    display: 'flex',\n    position: 'fixed',\n    willChange: 'transform',\n    transform: `translate3d(${collider.x}vh, ${collider.y}vh, 0)`,\n  };\n\n  return (\n    <>\n      <style jsx>{`\n        .wingDown\n        {\n          transform: translate3d(-0.6vh, -2.4vh, 0);\n        }\n\n        .fall\n        {\n          transform: translate3d(${collider.x}vw, 150vh, 0px) !important;\n          transition: transform 900ms linear;\n        }\n      `}</style>\n      <span ref={element} id={id} style={styleRoot}>\n        <svg style={{transform: `rotate(${rotation}deg)`}} height=\"4.25vh\" version=\"1.1\" viewBox=\"0 0 74.017 55.852\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g transform=\"translate(-62.95 -83.663)\">\n            <g strokeWidth=\"1.5875\">\n            <g stroke=\"#28220b\" strokeWidth=\"1.5875\">\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"98.366\" cy=\"116.63\" rx=\"31.759\" ry=\"17.625\" fill=\"#fc0\" fillRule=\"evenodd\"/>\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"95.883\" cy=\"134.04\" rx=\"8.6278\" ry=\"4.6856\" fill=\"#f60\"/>\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"117.06\" cy=\"97.553\" rx=\"16.571\" ry=\"13.096\" fill=\"#fc0\"/>\n              <ellipse transform=\"translate(-1.1875e-6)\" cx=\"131.36\" cy=\"100.83\" rx=\"4.8109\" ry=\"3.2741\" fill=\"#f60\"/>\n            </g>\n            <ellipse transform=\"translate(-1.1875e-6)\" cx=\"119.67\" cy=\"95.883\" rx=\"3.1404\" ry=\"3.1404\" fill=\"#28220b\" strokeWidth=\"1.5875\"/>\n            <path transform=\"translate(-1.1875e-6)\" d=\"m69.832 110.85a10.758 4.744 0 0 1-6.0829-4.1265 10.758 4.744 0 0 1 5.4902-4.285 10.758 4.744 0 0 1 11.154 0.16847\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\"1.5875\"/>\n            <path ref={wingEl} style={{'willChange': 'transform', 'transition': 'transform 100ms linear'}} transform=\"matrix(1.2706 0 0 .70673 -26.92 30.601)\" d=\"m92.163 110.46c7.0526-0.57349 13.065-1.0384 18.959 3.5441 2.8957 2.2515-0.93968 8.5576-2.8468 11.41-3.8818 5.8064-7.4472 9.4699-14.606 11.69-3.5174 1.0909-5.0289-0.49088-7.0157-3.2841-4.0439-5.6852-3.3033-11.785-2.8827-19.267 0.20662-3.6764 4.9272-3.8118 8.3922-4.0935z\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\"1.6752\"/>\n            </g>\n          </g>\n        </svg>\n      </span>\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nfunction Pipe({id, pos, rotation, score})\n{\n  const [context, setContext] = React.useContext(Engine.getContext());\n\n  React.useEffect(() => {\n    context[id] = {\n      'tag': 'obstacle'\n    };\n\n    if (score)\n    {\n      context[`${id}_score`] = {\n        'tag': 'score'\n      };\n    }\n\n    setContext({...context});\n  }, []);\n\n  if (!rotation)\n  {\n    rotation = 0;\n  }\n\n  const styleRoot = {\n    position: `fixed`,\n    willChange: `transform`,\n    transform: `translate3d(${pos?.x}vh, ${pos?.y}vh, 0) rotate(${rotation}deg)`,\n  };\n\n  return (\n    <div style={styleRoot}>\n      <svg id={id} height=\"100vh\" version=\"1.1\" viewBox=\"0 0 70 514.19\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g transform=\"translate(-65 8.2278)\" fill=\"#999\" stroke=\"#000\" strokeLinejoin=\"round\">\n          <rect transform=\"scale(1,-1)\" x=\"70.798\" y=\"-505.16\" width=\"58.404\" height=\"478.4\" rx=\"0\" ry=\"0\" imageRendering=\"auto\" strokeWidth=\"1.5964\" style={{mixBlendMode: 'normal'}}/>\n          <rect transform=\"scale(1,-1)\" x=\"65.694\" y=\"-26.078\" width=\"68.612\" height=\"33.612\" ry=\"5.2732\" strokeWidth=\"1.3882\" style={{mixBlendMode: 'normal'}}/>\n        </g>\n      </svg>\n      {score &&\n      <span\n        id={`${id}_score`}\n        style={{\n          position: 'fixed',\n          willChange: 'transform',\n          transform: 'translate3d(0, -30vh, 0px)',\n          height: '40vh',\n          width: '0.1vh',\n        }}\n      />\n      }\n    </div>\n  );\n}\n\nfunction getRandomInt(min, max)\n{\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nfunction getStartPos(index, offset, min, max)\n{\n  return Engine.getPos({\n    x: ((offset * index) + offset),\n    y: getRandomInt(min, max),\n  });\n}\n\nfunction PipeSet({index, offset, spacing, numberOfPipes, min, max, speed})\n{\n  const [end, setEnd] = React.useState(false);\n  const [pos, setPos] = React.useState(getStartPos(index, offset + 3.5, min, max));\n\n  React.useEffect(() => {\n    if (end)\n    {\n      setPos(getStartPos(numberOfPipes - 1, offset, min, max));\n    }\n  }, [end]);\n\n  React.useEffect(() => {\n    function move()\n    {\n      if (pos.x > -12.7)\n      {\n        pos.x += (-speed) * Engine.getTime().getTimeScale();\n      }\n      else\n      {\n        setEnd(!end);\n      }\n\n      setPos(Engine.getPos({...pos}));\n    };\n\n    Engine.fixedUpdate(move);\n  }, [pos]);\n\n  let posDown = {...pos};\n  if (posDown?.y != null)\n  {\n    posDown.y -= spacing;\n  }\n\n  return (\n    <span>\n      <Pipe\n        id={`${index}_up`}\n        pos={pos}\n        score={true}\n      />\n      <Pipe\n        id={`${index}_down`}\n        pos={posDown}\n        rotation={180}\n      />\n    </span>\n  );\n}\n\nfunction GroundImage({style, className})\n{\n  return (\n    <>\n      <svg style={style} className={className} width=\"1e3\" height=\"100\" version=\"1.1\" viewBox=\"0 0 264.58 26.458\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g transform=\"translate(0 -33.928)\">\n          <rect x=\"-2.2204e-16\" y=\"33.928\" width=\"264.58\" height=\"26.458\" fill=\"#f4d7d7\" fillRule=\"evenodd\"/>\n          <g transform=\"matrix(.49078 0 0 .46555 -44.859 21.129)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n          <path d=\"m232.39 52.582c-2.7739-3.2875-2.7764-6.2115-1.1295-10.3 1.6469-4.0883 2.8142-9.2244 6.6092-10.731s6.0507 2.9549 9.3078 5.4704 5.9833 6.6824 5.3466 11.053c-0.63678 4.3707-4.357 5.442-8.5328 6.8237-4.1758 1.3817-8.8274 0.97135-11.601-2.3161z\" fill=\"#59f\"/>\n          <path d=\"m235.71 35.42c0.71688-1.0108 2.0468-1.5649 3.2507-1.5409 1.2039 0.02402 2.6361 0.27067 3.3168 1.394 0.68071 1.1234-0.0123 2.3563-0.72132 3.3752-0.70901 1.0189-1.2883 1.2956-2.4767 1.5091s-1.9735-0.4772-2.4921-1.5698c-0.51856-1.0926-1.5943-2.1569-0.87738-3.1677z\" fill=\"#acf\"/>\n          </g>\n          <g transform=\"matrix(.46703 0 0 .44347 -10.237 16.953)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n          <path d=\"m102.38 61.462c0.39751-3.2526-1e-3 -7.038 1.5764-9.64 1.8216-3.0039 4.9383-4.102 7.9542-6.2623 2.6124-1.8713 6.419-1.3892 9.6434-1.6114 3.7225-0.25654 6.4919 0.63452 9.6696 2.6942 2.7525 1.7841-0.0286 4.4023 1.3959 7.3901 1.6445 3.4493 5.8573 6.7297 5.8812 10.478 0.0208 3.2471-4.2936 2.7-5.5945 5.4612-1.5019 3.1878-0.23408 6.0477-3.407 7.5966-2.7483 1.3417-5.8388-0.01753-8.95-0.08741-3.5917-0.08068-7.4778 0.41889-10.896-1.2394-2.9606-1.4364-2.0969-4.4701-3.4179-7.2219-1.5251-3.1769-4.3146-3.803-3.8556-7.5581z\" fill=\"#59f\"/>\n          <path d=\"m120.89 47.617c2.9186-1.2563 6.2152-0.60844 8.9529 0.6309 1.3852 0.62704 1.7221 2.4466 1.3923 3.8911-0.65187 2.855-1.9643 4.9756-4.6154 6.7584-1.3413 0.90201-3.0198 0.93044-4.291 0.0074-2.5125-1.8244-3.7911-4.7532-3.7685-7.8603 0.0114-1.572 0.85309-2.7918 2.3297-3.4274z\" fill=\"#acf\"/>\n          </g>\n          <g transform=\"matrix(.57673 0 0 .58846 -46.355 29.259)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n          <path d=\"m111.23 19.74c1.401 4.6142 0.37061 8.1346-2.1204 12.455-2.491 4.3204-7.021 6.6319-11.511 5.3382-4.4898-1.2938-7.9586-4.004-9.8867-8.3418-1.928-4.3378-0.74207-10.72 1.7119-14.728 2.454-4.0086 8.0746-1.8132 12.899-1.008 4.8248 0.80516 7.5055 1.6705 8.9066 6.2848z\" fill=\"#59f\"/>\n          <path d=\"m91.351 14.594c0.90086-0.93514 1.8128-0.93921 3.2087-0.83482 1.4541 0.10874 2.8659 1.2074 3.2438 2.4996 0.36278 1.2404 0.06187 2.4491-0.8753 3.4789-0.97628 1.0727-2.4971 1.6018-3.947 1.4263-1.3919-0.16848-1.9342-1.4926-2.3327-2.7424-0.41515-1.302-0.23596-2.8535 0.70248-3.8276z\" fill=\"#acf\"/>\n          </g>\n          <g transform=\"matrix(.55095 0 0 .64174 71.93 20.307)\" fillRule=\"evenodd\">\n          <rect x=\"16.82\" y=\"47.908\" width=\"12.095\" height=\"3.4963\" fill=\"#fea\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".2\"/>\n          <g fill=\"#f4eed7\">\n            <rect x=\"16.82\" y=\"51.405\" width=\"47.436\" height=\"1.3229\" stroke=\"#000\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\".2\"/>\n            <rect x=\"35.246\" y=\"52.728\" width=\"29.01\" height=\"1.4174\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".2\"/>\n            <rect x=\"35.341\" y=\"52.279\" width=\"28.821\" height=\"1.1812\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.56635 0 0 .58818 -10.202 13.569)\">\n          <g transform=\"translate(0 -.80181)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\".2\">\n            <rect x=\"57.196\" y=\"46.505\" width=\"17.239\" height=\"26.727\" rx=\"1.2027\" ry=\"3.8754\" fill=\"#f4e3d7\"/>\n            <rect x=\"62.909\" y=\"38.019\" width=\"5.1449\" height=\"8.3522\" rx=\"1.2027\" ry=\"3.8754\" fill=\"#c8beb7\"/>\n          </g>\n          <rect x=\"59.267\" y=\"52.986\" width=\"13.096\" height=\"6.1472\" fill=\"#ececec\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".165\"/>\n          <text transform=\"scale(.93751 1.0667)\" x=\"63.47168\" y=\"54.082645\" fill=\"#000000\" fontFamily=\"sans-serif\" fontSize=\"4.304px\" strokeWidth=\".1076\"><tspan x=\"63.47168\" y=\"54.082645\" strokeWidth=\".1076\"></tspan></text>\n          </g>\n          <g transform=\"matrix(0 -.48768 .49496 0 76.673 154.89)\">\n          <g transform=\"translate(-10.958 10.958)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n            <path transform=\"translate(-.26727 .26727)\" d=\"m227.78 46.734c-0.98862-3.7237 3.1879-4.7808 4.9593-8.079 1.7714-3.2983 1.4545-9.428 5.3512-10.289 3.8967-0.86062 4.0856 3.7666 7.5138 5.6031 3.4281 1.8365 8.5354 3.4152 9.9154 7.1079 1.38 3.6927-3.8202 5.5-6.3174 8.6276-2.4972 3.1275-0.10522 7.3752-3.8361 8.4953s-7.0265-4.6052-10.469-6.4641c-3.4426-1.8589-6.1284-1.2785-7.117-5.0021z\" fill=\"#59f\"/>\n            <path d=\"m235.71 35.42c0.71688-1.0108 2.0468-1.5649 3.2507-1.5409 1.2039 0.02402 2.6361 0.27067 3.3168 1.394 0.68071 1.1234-0.0123 2.3563-0.72132 3.3752-0.70901 1.0189-1.2883 1.2956-2.4767 1.5091s-1.9735-0.4772-2.4921-1.5698c-0.51856-1.0926-1.5943-2.1569-0.87738-3.1677z\" fill=\"#acf\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.47677 0 0 .45661 2.8557 21.56)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\">\n          <rect x=\"239.54\" y=\"43.601\" width=\"11.99\" height=\"29.807\" ry=\"5.9952\" fill=\"#d7d7f4\" strokeWidth=\".265\"/>\n          <rect x=\"243.48\" y=\"35.948\" width=\"4.275\" height=\"8.0131\" fill=\"#fff6d5\" strokeWidth=\".266\"/>\n          </g>\n          <g transform=\"matrix(.39514 0 0 .44113 5.8447 22.323)\">\n          <g transform=\"translate(94.77 43.261)\">\n            <g stroke=\"#000\">\n            <ellipse cx=\"45.924\" cy=\"22.868\" rx=\"15.497\" ry=\"7.5595\" fill=\"#ff8080\" fillRule=\"evenodd\" strokeLinejoin=\"round\" strokeWidth=\".347\"/>\n            <ellipse cx=\"45.735\" cy=\"18.332\" rx=\"15.497\" ry=\"7.5595\" fill=\"#ff8080\" fillRule=\"evenodd\" strokeLinejoin=\"round\" strokeWidth=\".347\"/>\n            <path d=\"m30.201 18.108 0.16704 4.9779\" fill=\"none\" strokeWidth=\".26458px\"/>\n            <path d=\"m61.205 17.807 0.33409 5.0447\" fill=\"none\" strokeWidth=\".26458px\"/>\n            <path transform=\"scale(.26458)\" d=\"m115.1 80.306c-3e-3 -0.59669-0.0388-1.8752-0.0796-2.8411l-0.0743-1.7562 0.43907 0.83263c0.24149 0.45795 0.5882 1.0689 0.77047 1.3576l0.33139 0.52497-0.40025 0.78898c-0.22014 0.43394-0.53102 1.1015-0.69085 1.4835l-0.29061 0.69448z\" fill=\"#ff8080\" fillRule=\"evenodd\" strokeLinejoin=\"round\" strokeWidth=\".1656\"/>\n            </g>\n            <path transform=\"scale(.26458)\" d=\"m231.45 80.044c-0.0478-0.16149-0.40067-0.85394-0.78423-1.5388l-0.69739-1.2452 0.57245-1.2171c0.31485-0.6694 0.60125-1.3023 0.63646-1.4065 0.0352-0.10417 0.0705 0.0095 0.0785 0.25254 8e-3 0.24307 0.0936 1.5493 0.19029 2.9027 0.0967 1.3534 0.15671 2.4799 0.13332 2.5033-0.0234 0.02339-0.0816-0.0896-0.12936-0.2511z\" fill=\"#ff8080\" fillRule=\"evenodd\"/>\n          </g>\n          <text transform=\"scale(1.038 .96343)\" x=\"126.74339\" y=\"66.334862\" fill=\"#ffd5d5\" fontFamily=\"sans-serif\" fontSize=\"7.3752px\" strokeWidth=\".18438\"><tspan x=\"126.74339\" y=\"66.334862\" fill=\"#ffd5d5\" strokeWidth=\".18438\"></tspan></text>\n          <g fill=\"#d35f5f\" fillRule=\"evenodd\">\n            <path transform=\"matrix(.26458 0 0 .26458 0 33.928)\" d=\"m527.76 149.43c-21.892-0.7904-41.259-7.5836-49.556-17.383-4.0397-4.7706-5.2578-10.758-3.1618-15.541l0.58324-1.3308 1.0836 1.2943c2.5528 3.049 7.4078 6.4601 12.985 9.123 8.7378 4.172 18.663 6.7066 30.869 7.883 4.2327 0.40796 16.728 0.40796 20.961 0 12.181-1.1741 22.266-3.7466 30.869-7.8745 6.6726-3.2017 11.845-7.1404 14.503-11.044 0.38128-0.56003 0.40149-0.54032 1.1652 1.1364 1.3342 2.9291 1.724 5.2347 1.3163 7.7865-0.60858 3.8095-2.5213 7.152-6.0214 10.522-9 8.6661-26.023 14.321-46.172 15.337-2.7519 0.13878-5.5717 0.23131-6.2662 0.20564-0.69448-0.0257-2.115-0.0775-3.1567-0.11507z\"/>\n            <path transform=\"matrix(.26458 0 0 .26458 0 33.928)\" d=\"m473.38 114c-0.0359-1.0524-0.0497-1.9925-0.0307-2.089 0.0247-0.12558 0.15431 0.0404 0.45558 0.58343 0.23156 0.41741 0.48444 0.85937 0.56196 0.98214 0.13535 0.21438 0.11989 0.26706-0.39035 1.3301l-0.53129 1.1068z\"/>\n            <path transform=\"matrix(.26458 0 0 .26458 0 33.928)\" d=\"m589.47 114.86c-0.10901-0.22684-0.43828-0.8429-0.7317-1.369l-0.5335-0.95656 0.57192-1.2251c0.31456-0.67381 0.59015-1.1675 0.61241-1.097 0.0521 0.16482 0.34899 5 0.30912 5.0343-0.0165 0.0142-0.11924-0.15976-0.22825-0.38661z\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.46703 0 0 .44347 81.541 23.258)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n          <path d=\"m102.38 61.462c0.39751-3.2526-1e-3 -7.038 1.5764-9.64 1.8216-3.0039 4.9383-4.102 7.9542-6.2623 2.6124-1.8713 6.419-1.3892 9.6434-1.6114 3.7225-0.25654 6.4919 0.63452 9.6696 2.6942 2.7525 1.7841-0.0286 4.4023 1.3959 7.3901 1.6445 3.4493 5.8573 6.7297 5.8812 10.478 0.0208 3.2471-4.2936 2.7-5.5945 5.4612-1.5019 3.1878-0.23408 6.0477-3.407 7.5966-2.7483 1.3417-5.8388-0.01753-8.95-0.08741-3.5917-0.08068-7.4778 0.41889-10.896-1.2394-2.9606-1.4364-2.0969-4.4701-3.4179-7.2219-1.5251-3.1769-4.3146-3.803-3.8556-7.5581z\" fill=\"#59f\"/>\n          <path d=\"m120.89 47.617c2.9186-1.2563 6.2152-0.60844 8.9529 0.6309 1.3852 0.62704 1.7221 2.4466 1.3923 3.8911-0.65187 2.855-1.9643 4.9756-4.6154 6.7584-1.3413 0.90201-3.0198 0.93044-4.291 0.0074-2.5125-1.8244-3.7911-4.7532-3.7685-7.8603 0.0114-1.572 0.85309-2.7918 2.3297-3.4274z\" fill=\"#acf\"/>\n          </g>\n          <g transform=\"matrix(.56635 0 0 .58818 125.63 15.037)\">\n          <g transform=\"translate(0 -.80181)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\".2\">\n            <rect x=\"57.196\" y=\"46.505\" width=\"17.239\" height=\"26.727\" rx=\"1.2027\" ry=\"3.8754\" fill=\"#f4e3d7\"/>\n            <rect x=\"62.909\" y=\"38.019\" width=\"5.1449\" height=\"8.3522\" rx=\"1.2027\" ry=\"3.8754\" fill=\"#c8beb7\"/>\n          </g>\n          <rect x=\"59.267\" y=\"52.986\" width=\"13.096\" height=\"6.1472\" fill=\"#ececec\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".165\"/>\n          <text transform=\"scale(.93751 1.0667)\" x=\"63.47168\" y=\"54.082645\" fill=\"#000000\" fontFamily=\"sans-serif\" fontSize=\"4.304px\" strokeWidth=\".1076\"><tspan x=\"63.47168\" y=\"54.082645\" strokeWidth=\".1076\"></tspan></text>\n          </g>\n          <g transform=\"matrix(.39514 0 0 .44113 122.96 12.634)\">\n          <g transform=\"translate(94.77 43.261)\">\n            <g stroke=\"#000\">\n            <ellipse cx=\"45.924\" cy=\"22.868\" rx=\"15.497\" ry=\"7.5595\" fill=\"#ff8080\" fillRule=\"evenodd\" strokeLinejoin=\"round\" strokeWidth=\".347\"/>\n            <ellipse cx=\"45.735\" cy=\"18.332\" rx=\"15.497\" ry=\"7.5595\" fill=\"#ff8080\" fillRule=\"evenodd\" strokeLinejoin=\"round\" strokeWidth=\".347\"/>\n            <path d=\"m30.201 18.108 0.16704 4.9779\" fill=\"none\" strokeWidth=\".26458px\"/>\n            <path d=\"m61.205 17.807 0.33409 5.0447\" fill=\"none\" strokeWidth=\".26458px\"/>\n            <path transform=\"scale(.26458)\" d=\"m115.1 80.306c-3e-3 -0.59669-0.0388-1.8752-0.0796-2.8411l-0.0743-1.7562 0.43907 0.83263c0.24149 0.45795 0.5882 1.0689 0.77047 1.3576l0.33139 0.52497-0.40025 0.78898c-0.22014 0.43394-0.53102 1.1015-0.69085 1.4835l-0.29061 0.69448z\" fill=\"#ff8080\" fillRule=\"evenodd\" strokeLinejoin=\"round\" strokeWidth=\".1656\"/>\n            </g>\n            <path transform=\"scale(.26458)\" d=\"m231.45 80.044c-0.0478-0.16149-0.40067-0.85394-0.78423-1.5388l-0.69739-1.2452 0.57245-1.2171c0.31485-0.6694 0.60125-1.3023 0.63646-1.4065 0.0352-0.10417 0.0705 0.0095 0.0785 0.25254 8e-3 0.24307 0.0936 1.5493 0.19029 2.9027 0.0967 1.3534 0.15671 2.4799 0.13332 2.5033-0.0234 0.02339-0.0816-0.0896-0.12936-0.2511z\" fill=\"#ff8080\" fillRule=\"evenodd\"/>\n          </g>\n          <text transform=\"scale(1.038 .96343)\" x=\"126.74339\" y=\"66.334862\" fill=\"#ffd5d5\" fontFamily=\"sans-serif\" fontSize=\"7.3752px\" strokeWidth=\".18438\"><tspan x=\"126.74339\" y=\"66.334862\" fill=\"#ffd5d5\" strokeWidth=\".18438\"></tspan></text>\n          <g fill=\"#d35f5f\" fillRule=\"evenodd\">\n            <path transform=\"matrix(.26458 0 0 .26458 0 33.928)\" d=\"m527.76 149.43c-21.892-0.7904-41.259-7.5836-49.556-17.383-4.0397-4.7706-5.2578-10.758-3.1618-15.541l0.58324-1.3308 1.0836 1.2943c2.5528 3.049 7.4078 6.4601 12.985 9.123 8.7378 4.172 18.663 6.7066 30.869 7.883 4.2327 0.40796 16.728 0.40796 20.961 0 12.181-1.1741 22.266-3.7466 30.869-7.8745 6.6726-3.2017 11.845-7.1404 14.503-11.044 0.38128-0.56003 0.40149-0.54032 1.1652 1.1364 1.3342 2.9291 1.724 5.2347 1.3163 7.7865-0.60858 3.8095-2.5213 7.152-6.0214 10.522-9 8.6661-26.023 14.321-46.172 15.337-2.7519 0.13878-5.5717 0.23131-6.2662 0.20564-0.69448-0.0257-2.115-0.0775-3.1567-0.11507z\"/>\n            <path transform=\"matrix(.26458 0 0 .26458 0 33.928)\" d=\"m473.38 114c-0.0359-1.0524-0.0497-1.9925-0.0307-2.089 0.0247-0.12558 0.15431 0.0404 0.45558 0.58343 0.23156 0.41741 0.48444 0.85937 0.56196 0.98214 0.13535 0.21438 0.11989 0.26706-0.39035 1.3301l-0.53129 1.1068z\"/>\n            <path transform=\"matrix(.26458 0 0 .26458 0 33.928)\" d=\"m589.47 114.86c-0.10901-0.22684-0.43828-0.8429-0.7317-1.369l-0.5335-0.95656 0.57192-1.2251c0.31456-0.67381 0.59015-1.1675 0.61241-1.097 0.0521 0.16482 0.34899 5 0.30912 5.0343-0.0165 0.0142-0.11924-0.15976-0.22825-0.38661z\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.49078 0 0 .46555 67.156 32.61)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n          <path d=\"m232.39 52.582c-2.7739-3.2875-2.7764-6.2115-1.1295-10.3 1.6469-4.0883 2.8142-9.2244 6.6092-10.731s6.0507 2.9549 9.3078 5.4704 5.9833 6.6824 5.3466 11.053c-0.63678 4.3707-4.357 5.442-8.5328 6.8237-4.1758 1.3817-8.8274 0.97135-11.601-2.3161z\" fill=\"#59f\"/>\n          <path d=\"m235.71 35.42c0.71688-1.0108 2.0468-1.5649 3.2507-1.5409 1.2039 0.02402 2.6361 0.27067 3.3168 1.394 0.68071 1.1234-0.0123 2.3563-0.72132 3.3752-0.70901 1.0189-1.2883 1.2956-2.4767 1.5091s-1.9735-0.4772-2.4921-1.5698c-0.51856-1.0926-1.5943-2.1569-0.87738-3.1677z\" fill=\"#acf\"/>\n          </g>\n          <g transform=\"matrix(.47677 0 0 .45661 89.268 19.54)\">\n          <g transform=\"translate(-8.9694 .28956)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\">\n            <rect x=\"239.54\" y=\"43.601\" width=\"11.99\" height=\"29.807\" ry=\"5.9952\" fill=\"#d7d7f4\" strokeWidth=\".265\"/>\n            <rect x=\"243.48\" y=\"35.948\" width=\"4.275\" height=\"8.0131\" fill=\"#fff6d5\" strokeWidth=\".266\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.57673 0 0 .58846 163.49 29.79)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n          <path d=\"m111.23 19.74c1.401 4.6142 0.37061 8.1346-2.1204 12.455-2.491 4.3204-7.021 6.6319-11.511 5.3382-4.4898-1.2938-7.9586-4.004-9.8867-8.3418-1.928-4.3378-0.74207-10.72 1.7119-14.728 2.454-4.0086 8.0746-1.8132 12.899-1.008 4.8248 0.80516 7.5055 1.6705 8.9066 6.2848z\" fill=\"#59f\"/>\n          <path d=\"m91.351 14.594c0.90086-0.93514 1.8128-0.93921 3.2087-0.83482 1.4541 0.10874 2.8659 1.2074 3.2438 2.4996 0.36278 1.2404 0.06187 2.4491-0.8753 3.4789-0.97628 1.0727-2.4971 1.6018-3.947 1.4263-1.3919-0.16848-1.9342-1.4926-2.3327-2.7424-0.41515-1.302-0.23596-2.8535 0.70248-3.8276z\" fill=\"#acf\"/>\n          </g>\n          <g transform=\"matrix(0 -.48768 .49496 0 211.7 165.21)\">\n          <g transform=\"translate(-10.958 10.958)\" fillRule=\"evenodd\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".347\">\n            <path transform=\"translate(-.26727 .26727)\" d=\"m227.78 46.734c-0.98862-3.7237 3.1879-4.7808 4.9593-8.079 1.7714-3.2983 1.4545-9.428 5.3512-10.289 3.8967-0.86062 4.0856 3.7666 7.5138 5.6031 3.4281 1.8365 8.5354 3.4152 9.9154 7.1079 1.38 3.6927-3.8202 5.5-6.3174 8.6276-2.4972 3.1275-0.10522 7.3752-3.8361 8.4953s-7.0265-4.6052-10.469-6.4641c-3.4426-1.8589-6.1284-1.2785-7.117-5.0021z\" fill=\"#59f\"/>\n            <path d=\"m235.71 35.42c0.71688-1.0108 2.0468-1.5649 3.2507-1.5409 1.2039 0.02402 2.6361 0.27067 3.3168 1.394 0.68071 1.1234-0.0123 2.3563-0.72132 3.3752-0.70901 1.0189-1.2883 1.2956-2.4767 1.5091s-1.9735-0.4772-2.4921-1.5698c-0.51856-1.0926-1.5943-2.1569-0.87738-3.1677z\" fill=\"#acf\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.55095 0 0 .64174 226.75 8.1017)\" fillRule=\"evenodd\">\n          <rect x=\"16.82\" y=\"47.908\" width=\"12.095\" height=\"3.4963\" fill=\"#fea\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".2\"/>\n          <g fill=\"#f4eed7\">\n            <rect x=\"16.82\" y=\"51.405\" width=\"47.436\" height=\"1.3229\" stroke=\"#000\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\".2\"/>\n            <rect x=\"35.246\" y=\"52.728\" width=\"29.01\" height=\"1.4174\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\".2\"/>\n            <rect x=\"35.341\" y=\"52.279\" width=\"28.821\" height=\"1.1812\"/>\n          </g>\n          </g>\n        </g>\n      </svg>\n    </>\n  );\n}\n\nfunction Ground({id})\n{\n  const [x, setX] = React.useState(0);\n  const [context, setContext] = React.useContext(Engine.getContext());\n  let offset = 0;\n  const speed = 0.4;\n  let fixedUpdateLoopId;\n\n  React.useEffect(() => {\n    context[id] = {\n      'tag': 'obstacle'\n    };\n    setContext({...context});\n  }, []);\n\n  // React.useEffect(() => {\n  //   function fixedUpdateLoop()\n  //   {\n  //     let change = (x - (speed * Engine.getTime().getTimeScale()));\n\n  //     if (x < -200)\n  //     {\n  //       offset = offset - 200;\n  //       change = 0;\n  //     }\n\n  //     setX(change);\n\n  //     fixedUpdateLoopId = Engine.fixedUpdate(fixedUpdateLoop);\n  //   }\n\n  //   fixedUpdateLoopId = Engine.fixedUpdate(fixedUpdateLoop);\n\n  //   return () => Engine.cancelFixedUpdate(fixedUpdateLoopId);\n  // }, [x]);\n\n  return(\n    <>\n      <style jsx>{`\n        // .groundImageContainer\n        // {\n        //   height: 100%;\n        //   width: ${2*200}vh;\n        //   background: #f4d7d7;\n        //   transform: translate3d(0vh, 79.66vh, -1px);\n        // }\n\n        // .groundImage\n        // {\n        //   height: 100%;\n        //   width: 200vh;\n        //   will-change: transform;\n        // }\n\n        .groundImageContainer\n        {\n          height: 1vh;\n          width: 100vh;\n          transform: translate3d(0vh, 100vh, -1px);\n        }\n      `}</style>\n      <div id={id} className=\"groundImageContainer\">\n        {/* <GroundImage className=\"groundImage\" style={{transform: `translate3d(${offset + x}vh, 0, -2px)`}} />\n        <GroundImage className=\"groundImage\" style={{transform: `translate3d(${offset + x+(speed*2)}vh, 0, -3px)`}} /> */}\n      </div>\n    </>\n  );\n}\n\nexport default function Pipes()\n{\n  const offset = 50;\n  const spacing = 120;\n  const numberOfPipes = 6;\n  const min = 30;\n  const max = 90;\n  const speed = 0.4;\n\n  let items = [];\n  for (let i = 0; i < numberOfPipes; i++)\n  {\n    items.push(\n      <PipeSet\n        key={i}\n        index={i}\n        offset={offset}\n        spacing={spacing}\n        numberOfPipes={numberOfPipes}\n        min={min}\n        max={max}\n        speed={speed}\n      />\n    );\n  }\n\n  const styleRoot = {\n\n  };\n\n  return (\n    <>\n      <span style={styleRoot}>\n        {items}\n      </span>\n      <Ground id={'slapId_background_0'} />\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nfunction BackgroundImage({style, className})\n{\n  return (\n    <>\n      <svg className={className} style={style} width=\"1e3\" height=\"300\" version=\"1.1\" viewBox=\"0 0 264.58 79.375\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g transform=\"translate(0 -33.928)\">\n          <rect x=\"-1.1102e-16\" y=\"33.928\" width=\"264.58\" height=\"79.375\" fill=\"#ffb380\" fillRule=\"evenodd\"/>\n          <g transform=\"matrix(.8446 0 0 .88327 23.452 3.3686)\">\n          <g fillRule=\"evenodd\" stroke=\"#24221c\" strokeLinejoin=\"round\" strokeWidth=\".565\">\n            <rect x=\"90.872\" y=\"43.817\" width=\"40.625\" height=\"46.505\" fill=\"#afe9dd\"/>\n            <rect x=\"90.872\" y=\"43.817\" width=\"12.428\" height=\"34.344\" fill=\"#5fd35f\"/>\n            <rect x=\"119.87\" y=\"43.817\" width=\"11.626\" height=\"34.077\" fill=\"#5fd35f\"/>\n          </g>\n          <path d=\"m112.39 90.055-0.13364-46.238\" fill=\"none\" stroke=\"#000\" strokeWidth=\".565\"/>\n          <path d=\"m103.43 66.268 16.303-0.13364\" fill=\"none\" stroke=\"#000\" strokeWidth=\".565\"/>\n          </g>\n          <rect x=\"159.56\" y=\"69.538\" width=\"86.061\" height=\"2.5941\" fill=\"#c87137\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\" strokeWidth=\".53072\"/>\n          <g transform=\"matrix(.90046 0 0 .884 16.985 3.8828)\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\" strokeWidth=\".565\">\n          <rect x=\"170.79\" y=\"61.59\" width=\"7.2163\" height=\"12.428\" fill=\"#ff8080\"/>\n          <rect x=\"173.16\" y=\"57.835\" width=\"2.7403\" height=\"3.7325\" fill=\"#de8787\"/>\n          </g>\n          <g transform=\"matrix(1 0 0 .88235 0 3.9915)\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\" strokeWidth=\".565\">\n          <rect x=\"187.69\" y=\"70.21\" width=\"12.428\" height=\"3.8754\" fill=\"#f60\"/>\n          <rect x=\"189.56\" y=\"68.74\" width=\"9.0203\" height=\"1.47\" fill=\"#a40\"/>\n          </g>\n          <g transform=\"matrix(.84238 0 0 .88235 37.242 3.9915)\">\n          <g stroke=\"#28220b\">\n            <ellipse transform=\"scale(-1,1)\" cx=\"-240.12\" cy=\"71.84\" rx=\"3.2327\" ry=\"1.7402\" fill=\"#fc0\" fillRule=\"evenodd\" strokeWidth=\".225\"/>\n            <ellipse transform=\"scale(-1,1)\" cx=\"-240.38\" cy=\"73.558\" rx=\".87823\" ry=\".46263\" fill=\"#f60\" strokeWidth=\".225\"/>\n            <ellipse transform=\"scale(-1,1)\" cx=\"-238.22\" cy=\"69.956\" rx=\"1.6867\" ry=\"1.293\" fill=\"#fc0\" strokeWidth=\".227\"/>\n            <ellipse transform=\"scale(-1,1)\" cx=\"-236.76\" cy=\"70.279\" rx=\".4897\" ry=\".32326\" fill=\"#f60\" strokeWidth=\".227\"/>\n          </g>\n          <ellipse transform=\"scale(-1,1)\" cx=\"-237.95\" cy=\"69.791\" rx=\".31967\" ry=\".31006\" fill=\"#28220b\" strokeWidth=\".026525\"/>\n          <path transform=\"scale(-1,1)\" d=\"m-243.03 71.269a1.095 0.4684 0 0 1-0.61918-0.40742 1.095 0.4684 0 0 1 0.55885-0.42308 1.095 0.4684 0 0 1 1.1354 0.01663\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\".227\"/>\n          <path transform=\"matrix(-.12934 0 0 .069778 252.88 63.346)\" d=\"m92.163 110.46c7.0526-0.57349 13.065-1.0384 18.959 3.5441 2.8957 2.2515-0.93968 8.5576-2.8468 11.41-3.8818 5.8064-7.4472 9.4699-14.606 11.69-3.5174 1.0909-5.0289-0.49088-7.0157-3.2841-4.0439-5.6852-3.3033-11.785-2.8827-19.267 0.20662-3.6764 4.9272-3.8118 8.3922-4.0935z\" fill=\"#fc0\" stroke=\"#28220b\" strokeWidth=\"2.3684\"/>\n          </g>\n          <g transform=\"matrix(.83281 0 0 .88235 36.172 3.9915)\" fillRule=\"evenodd\" stroke=\"#28170b\" strokeLinejoin=\"round\">\n          <ellipse cx=\"223.64\" cy=\"70.577\" rx=\"7.2831\" ry=\"3.5079\" fill=\"#ff2a2a\" strokeWidth=\".565\"/>\n          <rect x=\"222.49\" y=\"64.096\" width=\"2.2551\" height=\"2.9901\" fill=\"#ff8080\" strokeWidth=\".565\"/>\n          </g>\n          <g transform=\"matrix(1 0 0 .88235 0 3.9915)\" fillRule=\"evenodd\" strokeLinejoin=\"round\">\n          <g fill=\"#e6e6e6\" stroke=\"#28170b\" strokeWidth=\".565\">\n            <rect x=\"174.26\" y=\"105.16\" width=\"76.573\" height=\"16.972\"/>\n            <rect x=\"176.77\" y=\"122.16\" width=\"2.1686\" height=\"1.4375\"/>\n            <rect x=\"247.31\" y=\"122.16\" width=\"2.2974\" height=\"1.4366\"/>\n            <rect x=\"172.43\" y=\"106.24\" width=\"1.7718\" height=\"1.0631\"/>\n          </g>\n          <rect x=\"169.5\" y=\"105.18\" width=\"2.9057\" height=\"2.9529\" fill=\"#b3b3b3\" stroke=\"#28170b\" strokeWidth=\".565\"/>\n          <g fill=\"#a05a2c\" stroke=\"#28220b\">\n            <rect x=\"15.502\" y=\"90.99\" width=\"58.131\" height=\"1.7373\" strokeWidth=\".427\"/>\n            <rect x=\"20.502\" y=\"92.728\" width=\"1.1326\" height=\"30.934\" strokeWidth=\".4283\"/>\n            <rect x=\"67.5\" y=\"92.728\" width=\"1.1327\" height=\"30.928\" strokeWidth=\".42827\"/>\n          </g>\n          </g>\n          <g transform=\"matrix(.88588 0 0 .88349 14.148 5.2351)\" fillRule=\"evenodd\" strokeLinejoin=\"round\">\n          <rect x=\"20.847\" y=\"44.619\" width=\"25.925\" height=\"27.261\" fill=\"#cdde87\" stroke=\"#a05a2c\" strokeWidth=\".565\"/>\n          <ellipse cx=\"33.409\" cy=\"57.715\" rx=\"6.6817\" ry=\"8.2854\" fill=\"#fc0\" stroke=\"#2b2200\" strokeWidth=\".565\"/>\n          <g>\n            <ellipse transform=\"rotate(2.2223)\" cx=\"33.213\" cy=\"54.664\" rx=\"1.2762\" ry=\"1.2628\" strokeWidth=\".427\"/>\n            <ellipse transform=\"rotate(2.2223)\" cx=\"38.226\" cy=\"54.47\" rx=\"1.2762\" ry=\"1.2628\" strokeWidth=\".427\"/>\n            <ellipse transform=\"matrix(.98914 .14695 .14695 -.98914 0 0)\" cx=\"41.912\" cy=\"-53.415\" rx=\"2.4961\" ry=\"1.211\" strokeWidth=\".636\"/>\n          </g>\n          <ellipse transform=\"matrix(.99281 -.11966 -.11966 -.99281 0 0)\" cx=\"26.86\" cy=\"-62.207\" rx=\"4.3111\" ry=\"1.211\" fill=\"#fc0\" strokeWidth=\".83584\"/>\n          <ellipse transform=\"matrix(.99923 .039128 -.038427 .99926 0 0)\" cx=\"33.205\" cy=\"54.64\" rx=\"1.1359\" ry=\"1.1342\" fill=\"#fff\" strokeWidth=\".38178\"/>\n          <ellipse transform=\"matrix(.99923 .039128 -.038427 .99926 0 0)\" cx=\"38.207\" cy=\"54.456\" rx=\"1.1359\" ry=\"1.1342\" fill=\"#fff\" strokeWidth=\".38178\"/>\n          <ellipse transform=\"matrix(.99954 .03025 -.049695 .99876 0 0)\" cx=\"33.801\" cy=\"54.909\" rx=\".21209\" ry=\".1638\" strokeWidth=\".06269\"/>\n          <ellipse transform=\"matrix(.99954 .03025 -.049695 .99876 0 0)\" cx=\"38.949\" cy=\"54.695\" rx=\".21209\" ry=\".1638\" strokeWidth=\".06269\"/>\n          </g>\n        </g>\n      </svg>\n    </>\n  );\n}\n\nexport default function Background()\n{\n  const [x, setX] = React.useState(0);\n  let offset = 0;\n  const speed = 0.1;\n  let fixedUpdateLoopId;\n\n  React.useEffect(() => {\n    function fixedUpdateLoop()\n    {\n      let change = (x - (speed * Engine.getTime().getTimeScale()));\n\n      if (x < -294)\n      {\n        offset = offset - 294;\n        change = 0;\n      }\n\n      setX(change);\n\n      fixedUpdateLoopId = Engine.fixedUpdate(fixedUpdateLoop);\n    }\n\n    fixedUpdateLoopId = Engine.fixedUpdate(fixedUpdateLoop);\n\n    return () => Engine.cancelFixedUpdate(fixedUpdateLoopId);\n  }, [x]);\n\n  return (\n    <>\n      <style jsx>{`\n        .backgroundImageContainer\n        {\n          height: 100%;\n          width: ${2*294}vh;\n          background: #ffb380;\n          filter: blur(0.15vh);\n        }\n\n        .backgroundImage\n        {\n          height: 100%;\n          width: 294vh;\n          will-change: transform;\n        }\n      `}</style>\n      <div className=\"backgroundImageContainer\">\n        <BackgroundImage className=\"backgroundImage\" style={{transform: `translate3d(${offset + x}vh, 0, -2px)`}} />\n        <BackgroundImage className=\"backgroundImage\" style={{transform: `translate3d(${offset + x+(speed*2)}vh, 0, -3px)`}} />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\n\nexport default function Hud()\n{\n  const [start, setStart] = React.useState(false);\n  const [score, setScore] = React.useState(0);\n  const [gameOver, setGameOver] = React.useState(false);\n  const [lastScoreId, setLastScoreId] = React.useState('');\n  const [restart, setRestart] = React.useState(false);\n\n  React.useEffect(() => {\n    function handlePlayerInput()\n    {\n      if (!start)\n      {\n        setStart(true);\n      }\n      else if (start && restart)\n      {\n        Engine.restart();\n      }\n    }\n\n    Engine.getEvent().listen('playerInput', handlePlayerInput);\n\n    return () => Engine.getEvent().remove('playerInput', handlePlayerInput);\n  }, [start, restart]);\n\n  React.useEffect(() => {\n    function eventHandler(event)\n    {\n      let items = event?.detail?.items;\n\n      if (items[0]?.tag == 'player' && items[1]?.tag == 'score')\n      {\n        if (items[1]?.id != lastScoreId)\n        {\n          setScore(score => ++score);\n          setLastScoreId(items[1]?.id);\n        }\n      }\n\n      if (items[0]?.tag == 'player' && items[1]?.tag == 'obstacle')\n      {\n        setGameOver(true);\n        setRestart(true);\n      }\n    }\n\n    Engine.getEvent().listen('isColliding', eventHandler);\n\n    return () => Engine.getEvent().remove('isColliding', eventHandler);\n  }, [lastScoreId]);\n\n  React.useEffect(() => {\n    if (start)\n    {\n      Engine.getTime().start();\n    }\n    else\n    {\n      Engine.getTime().stop();\n    }\n  }, [start]);\n\n  return (\n    <>\n      <div style={{'width': '100vw', 'height': '100vh'}}>\n        <div\n          style={{\n            'color': '#FFF',\n            'fontSize': '4vh',\n            'textShadow': '0vh 0.4vh #333',\n            'fontWeight': '600',\n            'textAlign': 'center',\n            'marginTop': '8.5vh',\n          }}\n        >\n          <h2>{score}</h2>\n          <h1 style={{'marginTop': '28vh', 'height': '9.5vh'}}>{gameOver && 'Game Over'}</h1>\n          {(!start || gameOver) &&\n          <span>\n            <span>\n              <svg style={{'transform': 'rotate(90deg)', 'marginTop': '18vh'}} height=\"4.25vh\" version=\"1.1\" viewBox=\"0 0 5.8304 5.6861\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g transform=\"translate(-81.253 -98.706)\">\n                  <path d=\"m84.593 103.95-0.28127 0.28128c-0.11909 0.11907-0.31168 0.11907-0.42952 0l-2.463-2.4618c-0.11909-0.11905-0.11909-0.31171 0-0.42949l2.463-2.4631c0.1191-0.11909 0.31168-0.11909 0.42952 0l0.28127 0.28127c0.12036 0.12037 0.11784 0.31675-0.0051 0.43458l-1.5267 1.4545h3.6413c0.16851 0 0.30408 0.13551 0.30408 0.30408v0.40545c0 0.16852-0.13557 0.30408-0.30408 0.30408h-3.6413l1.5267 1.4545c0.12417 0.11779 0.12669 0.3142 0.0051 0.43456z\" fill=\"#fff\" stroke=\"#000\" strokeWidth=\".15415\"/>\n                </g>\n              </svg>\n            </span>\n            <h4 style={{'marginTop': '0px'}}>{gameOver ? 'Touch to Restart' : 'Touch to Start'}</h4>\n          </span>\n          }\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport Engine from '../../classes/Engine/Engine';\n\nimport Bird from './Bird';\nimport Pipes from './Pipes';\nimport Background from './Background';\nimport Hud from './Hud';\n\n\nEngine.addObject(<Bird />);\nEngine.addObject(<Pipes />);\nEngine.setBackground(<Background />);\nEngine.setHud(<Hud />);\n\nEngine.start();\n"],"sourceRoot":""}